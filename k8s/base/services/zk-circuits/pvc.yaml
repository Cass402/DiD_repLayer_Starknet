# ==============================================================================
# Veridis Decentralized Identity Protocol - ZK Circuits Persistent Volume Claims
# ==============================================================================
#
# This manifest defines comprehensive ZK Circuits persistent storage for the
# decentralized identity protocol, providing:
#
# ENTERPRISE VERIDIS ZK CIRCUITS STORAGE ARCHITECTURE:
#   • Advanced zero-knowledge proof storage with GPU optimization and intelligent data management
#   • Multi-tier storage architecture with high-performance, standard, and archival storage classes
#   • Comprehensive performance framework with GPU-aware storage, proof caching, and circuit efficiency
#   • Advanced lifecycle management with automated provisioning, data migration, and optimization
#   • Enterprise-grade intelligence with comprehensive analytics and storage insights
#
# VERIDIS ZK CIRCUITS STORAGE OPTIMIZATION:
#   • High-performance storage with intelligent data placement and GPU-aware optimization
#   • Intelligent proof caching with circuit compilation optimization and performance-based storage decisions
#   • Advanced resource management with business intelligence and workload-based storage allocation
#   • Comprehensive backup and recovery with intelligent data protection and disaster preparedness
#   • Enterprise acceleration with predictive storage and resource optimization
#
# COMPLIANCE FRAMEWORK INTEGRATION:
#   • SOC 2 Type II storage controls with comprehensive audit and data requirements
#   • GDPR storage compliance with data protection, privacy controls, and data lifecycle management
#   • ISO 27001 storage management with comprehensive framework integration
#   • NIST 800-190 container storage with storage-specific validation and compliance
#   • Zero-knowledge protocol compliance with regulatory frameworks and storage best practices
#
# ENTERPRISE OPERATIONAL EXCELLENCE:
#   • Intelligent storage lifecycle management with automated provisioning and optimization
#   • Predictive storage analytics with capacity planning and performance intelligence
#   • Advanced monitoring integration with storage analytics and business intelligence
#   • Comprehensive backup and recovery with data preservation and disaster preparedness
#   • Business continuity storage with failover capabilities and redundancy optimization
#
# GPU ACCELERATION STORAGE INTELLIGENCE:
#   • Storage usage analytics with access patterns and optimization recommendations
#   • Performance monitoring with storage latency and throughput optimization intelligence
#   • Development efficiency with storage analytics and deployment optimization procedures
#   • Cost optimization with resource utilization analysis and capacity planning procedures
#   • Quality assurance with storage metrics and performance validation procedures
#
# ==============================================================================

# ==============================================================================
# Veridis ZK Circuits PVC - High-Performance Circuit Data Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-data
  namespace: veridis-infrastructure

  # Core Veridis ZK Circuits storage identification labels
  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    # Storage specific classification
    storage.veridis.xyz/type: zk-circuits-data-storage
    storage.veridis.xyz/category: high-performance-storage
    storage.veridis.xyz/role: primary-data-storage
    storage.veridis.xyz/performance-class: high-performance-ssd
    storage.veridis.xyz/security-level: enterprise

    # ZK storage classification
    zk.veridis.xyz/storage-type: circuit-data-storage
    zk.veridis.xyz/storage: comprehensive
    zk.veridis.xyz/performance-tier: high-performance
    zk.veridis.xyz/optimization: enabled
    zk.veridis.xyz/features: full-stack

    # GPU storage classification
    gpu.veridis.xyz/tier: production
    gpu.veridis.xyz/optimization: intelligent-storage
    gpu.veridis.xyz/acceleration: enabled
    gpu.veridis.xyz/storage: optimized
    gpu.veridis.xyz/efficiency: maximum

    # Business storage classification
    business.veridis.xyz/criticality: mission-critical
    business.veridis.xyz/impact: high-performance
    business.veridis.xyz/cost-tier: production
    business.veridis.xyz/sla-tier: enterprise
    business.veridis.xyz/availability-requirement: 99.9

    # Operational storage labels
    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering
    veridis.xyz/cost-center: identity-infrastructure
    veridis.xyz/business-unit: identity-protocol

    # Compliance framework labels
    compliance.veridis.xyz/soc2: "storage-control-framework"
    compliance.veridis.xyz/gdpr: "storage-data-protection"
    compliance.veridis.xyz/iso27001: "storage-security-management"
    compliance.veridis.xyz/nist-800-190: "storage-container-security"
    governance.veridis.xyz/policy-enforcement: "enterprise"

    # Storage monitoring and analytics
    monitoring.veridis.xyz/storage-monitoring: "enabled"
    monitoring.veridis.xyz/performance-monitoring: "comprehensive"
    monitoring.veridis.xyz/capacity-monitoring: "enabled"
    monitoring.veridis.xyz/business-monitoring: "enabled"
    monitoring.veridis.xyz/compliance-monitoring: "enabled"

  annotations:
    # Storage purpose and specifications
    veridis.xyz/description: "Enterprise Veridis ZK Circuits high-performance data storage with GPU optimization, intelligent caching, and comprehensive performance tuning"
    veridis.xyz/purpose: "Provides high-performance persistent storage for zero-knowledge circuit data, compiled circuits, proving keys, and performance optimization"
    veridis.xyz/scope: "ZK data storage including circuit files, proving keys, verification keys, witness data, and comprehensive performance intelligence"

    # Storage architecture and design
    storage.veridis.xyz/architecture: "Enterprise storage with high-performance SSD, intelligent tiering, and performance optimization"
    storage.veridis.xyz/design-pattern: "Multi-tier storage with performance optimization, cost efficiency, and business intelligence"
    storage.veridis.xyz/optimization-model: "Intelligent storage with predictive analytics, performance optimization, and resource efficiency"
    storage.veridis.xyz/performance-model: "High-performance storage with NVMe SSD and intelligent data placement"

    # Circuit data specifications
    circuit.veridis.xyz/data-specification: "Circuit data storage with compiled circuits, proving keys, verification keys, and witness data"
    circuit.veridis.xyz/compilation-specification: "Circuit compilation output with optimized binary storage and performance validation"
    circuit.veridis.xyz/keys-specification: "Cryptographic key storage with secure key management and rotation capabilities"
    circuit.veridis.xyz/cache-specification: "Intelligent caching with performance optimization and resource utilization"
    circuit.veridis.xyz/backup-specification: "Comprehensive backup with data protection and disaster recovery capabilities"

    # Performance storage specifications
    performance.veridis.xyz/storage-specification: "High-performance storage with NVMe SSD and intelligent data placement"
    performance.veridis.xyz/throughput-specification: "Throughput optimization with parallel I/O and performance enhancement"
    performance.veridis.xyz/latency-specification: "Latency optimization with low-latency storage and intelligent caching"
    performance.veridis.xyz/efficiency-specification: "Resource efficiency with cost optimization and intelligent allocation"
    performance.veridis.xyz/scaling-specification: "Performance scaling with auto-expansion and resource management"

    # Business storage specifications
    business.veridis.xyz/sla-specification: "SLA-compliant storage with business continuity and performance guarantees"
    business.veridis.xyz/intelligence-specification: "Business intelligence with operational analytics and strategic insights"
    business.veridis.xyz/cost-specification: "Cost-optimized storage with efficiency analysis and budget management"
    business.veridis.xyz/efficiency-specification: "Business efficiency with resource optimization and storage intelligence"

    # Operational storage specifications
    operations.veridis.xyz/automation-specification: "Full automation with intelligent management and developer-friendly interfaces"
    operations.veridis.xyz/monitoring-specification: "Comprehensive monitoring with storage analytics and performance intelligence"
    operations.veridis.xyz/maintenance-specification: "Automated maintenance with data preservation and optimization procedures"
    operations.veridis.xyz/backup-specification: "Intelligent backup with performance management and resource optimization"

    # Storage lifecycle specifications
    lifecycle.veridis.xyz/provisioning-specification: "Dynamic provisioning with automated capacity management and performance optimization"
    lifecycle.veridis.xyz/expansion-specification: "Intelligent storage expansion with machine learning and performance forecasting"
    lifecycle.veridis.xyz/migration-specification: "Data migration with intelligent planning and performance enhancement"
    lifecycle.veridis.xyz/archival-specification: "Data archival with intelligent lifecycle management and cost optimization"

    # Volume-specific annotations
    volume.beta.kubernetes.io/storage-provisioner: "ebs.csi.aws.com"
    volume.kubernetes.io/selected-node: ""
    volume.kubernetes.io/storage-provisioner: "ebs.csi.aws.com"

    # AWS EBS specific annotations
    ebs.csi.aws.com/volumeType: "gp3"
    ebs.csi.aws.com/iops: "16000"
    ebs.csi.aws.com/throughput: "1000"
    ebs.csi.aws.com/encrypted: "true"
    ebs.csi.aws.com/kmsKeyId: "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"

    # Backup and snapshot annotations
    backup.veridis.xyz/enabled: "true"
    backup.veridis.xyz/schedule: "0 2 * * *"  # Daily at 2 AM
    backup.veridis.xyz/retention: "30d"
    snapshot.veridis.xyz/enabled: "true"
    snapshot.veridis.xyz/schedule: "0 */6 * * *"  # Every 6 hours

    # Performance annotations
    performance.alpha.kubernetes.io/storage-class: "high-performance-ssd"
    performance.alpha.kubernetes.io/iops-requirement: "16000"
    performance.alpha.kubernetes.io/throughput-requirement: "1000MB/s"
    performance.alpha.kubernetes.io/latency-requirement: "sub-millisecond"

    # Documentation and procedures
    veridis.xyz/owner: "zk-team@veridis.xyz"
    veridis.xyz/storage-admin: "zk-storage-admin@veridis.xyz"
    veridis.xyz/escalation: "zk-manager@veridis.xyz"
    veridis.xyz/emergency-contact: "zk-oncall@veridis.xyz"

    # Documentation references
    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/storage"
    veridis.xyz/runbook: "https://runbooks.veridis.xyz/zk-circuits/storage-management"
    veridis.xyz/storage-docs: "https://storage.veridis.xyz/zk-circuits/storage-guide"
    veridis.xyz/optimization-docs: "https://optimization.veridis.xyz/zk-circuits/storage-optimization"

spec:
  # ==============================================================================
  # Access Mode Configuration - ReadWriteOnce for High Performance
  # ==============================================================================
  accessModes:
    - ReadWriteOnce

  # ==============================================================================
  # Storage Class Configuration - High-Performance NVMe SSD
  # ==============================================================================
  storageClassName: high-performance-ssd

  # ==============================================================================
  # Resource Requirements - 500GB High-Performance Storage
  # ==============================================================================
  resources:
    requests:
      storage: 500Gi

  # ==============================================================================
  # Volume Mode Configuration - Filesystem
  # ==============================================================================
  volumeMode: Filesystem

  # ==============================================================================
  # Data Source Configuration - Optional Source Volume
  # ==============================================================================
  # dataSource:
  #   name: veridis-zk-circuits-snapshot
  #   kind: VolumeSnapshot
  #   apiGroup: snapshot.storage.k8s.io

---
# ==============================================================================
# Veridis ZK Circuits PVC - Proving Keys Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-keys
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-keys-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: zk-circuits-keys-storage
    storage.veridis.xyz/category: cryptographic-keys-storage
    storage.veridis.xyz/role: keys-storage
    storage.veridis.xyz/performance-class: high-performance-ssd
    storage.veridis.xyz/security-level: maximum

    zk.veridis.xyz/storage-type: cryptographic-keys
    zk.veridis.xyz/security: maximum
    zk.veridis.xyz/encryption: enabled
    zk.veridis.xyz/backup: enabled

    security.veridis.xyz/classification: confidential
    security.veridis.xyz/encryption: aes-256
    security.veridis.xyz/key-management: vault

    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering

  annotations:
    veridis.xyz/description: "Enterprise ZK Circuits cryptographic keys storage with maximum security, encryption, and backup capabilities"
    veridis.xyz/purpose: "Provides secure persistent storage for proving keys, verification keys, and trusted setup parameters"

    storage.veridis.xyz/security-specification: "Maximum security storage with AES-256 encryption and secure key management"
    security.veridis.xyz/encryption-specification: "AES-256 encryption with Hardware Security Module integration"

    # Security annotations
    security.alpha.kubernetes.io/encryption-at-rest: "aes-256"
    security.alpha.kubernetes.io/key-management: "vault"
    security.alpha.kubernetes.io/access-control: "strict"

    # AWS EBS specific annotations for maximum security
    ebs.csi.aws.com/volumeType: "gp3"
    ebs.csi.aws.com/iops: "10000"
    ebs.csi.aws.com/throughput: "500"
    ebs.csi.aws.com/encrypted: "true"
    ebs.csi.aws.com/kmsKeyId: "arn:aws:kms:us-west-2:123456789012:key/87654321-4321-4321-4321-210987654321"

    # Backup annotations for critical keys
    backup.veridis.xyz/enabled: "true"
    backup.veridis.xyz/schedule: "0 */4 * * *"  # Every 4 hours
    backup.veridis.xyz/retention: "90d"
    backup.veridis.xyz/priority: "critical"

    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/keys-storage"

spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: high-performance-ssd-encrypted
  resources:
    requests:
      storage: 100Gi
  volumeMode: Filesystem

---
# ==============================================================================
# Veridis ZK Circuits PVC - Cache Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-cache
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-cache-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: zk-circuits-cache-storage
    storage.veridis.xyz/category: performance-cache-storage
    storage.veridis.xyz/role: cache-storage
    storage.veridis.xyz/performance-class: ultra-high-performance
    storage.veridis.xyz/security-level: standard

    zk.veridis.xyz/storage-type: performance-cache
    zk.veridis.xyz/performance-tier: ultra-high
    zk.veridis.xyz/optimization: maximum
    zk.veridis.xyz/caching: enabled

    performance.veridis.xyz/tier: ultra-high
    performance.veridis.xyz/caching: enabled
    performance.veridis.xyz/optimization: maximum

    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering

  annotations:
    veridis.xyz/description: "Ultra-high performance cache storage for ZK Circuits with maximum optimization and intelligent caching"
    veridis.xyz/purpose: "Provides ultra-fast cache storage for circuit compilation, witness generation, and proof caching"

    storage.veridis.xyz/cache-specification: "Ultra-high performance caching with NVMe storage and intelligent cache management"
    performance.veridis.xyz/cache-specification: "Maximum performance caching with sub-millisecond latency and high throughput"

    # Performance annotations for caching
    performance.alpha.kubernetes.io/storage-class: "ultra-high-performance-nvme"
    performance.alpha.kubernetes.io/iops-requirement: "32000"
    performance.alpha.kubernetes.io/throughput-requirement: "4000MB/s"
    performance.alpha.kubernetes.io/latency-requirement: "microsecond"

    # AWS EBS specific annotations for maximum performance
    ebs.csi.aws.com/volumeType: "io2"
    ebs.csi.aws.com/iops: "32000"
    ebs.csi.aws.com/throughput: "4000"
    ebs.csi.aws.com/encrypted: "true"

    # Cache-specific annotations
    cache.veridis.xyz/type: "circuit-compilation-cache"
    cache.veridis.xyz/policy: "lru"
    cache.veridis.xyz/size: "200GB"
    cache.veridis.xyz/ttl: "24h"

    # Backup not required for cache (can be regenerated)
    backup.veridis.xyz/enabled: "false"
    backup.veridis.xyz/reason: "cache-data-regenerable"

    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/cache-storage"

spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: ultra-high-performance-nvme
  resources:
    requests:
      storage: 200Gi
  volumeMode: Filesystem

---
# ==============================================================================
# Veridis ZK Circuits PVC - Archive Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-archive
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-archive-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: zk-circuits-archive-storage
    storage.veridis.xyz/category: archival-storage
    storage.veridis.xyz/role: archive-storage
    storage.veridis.xyz/performance-class: standard-performance
    storage.veridis.xyz/security-level: enterprise

    zk.veridis.xyz/storage-type: archival-data
    zk.veridis.xyz/retention: long-term
    zk.veridis.xyz/compliance: enabled
    zk.veridis.xyz/audit: enabled

    compliance.veridis.xyz/retention: "7y"
    compliance.veridis.xyz/audit-trail: "enabled"
    compliance.veridis.xyz/data-classification: "regulated"

    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering

  annotations:
    veridis.xyz/description: "Long-term archive storage for ZK Circuits with compliance retention and audit capabilities"
    veridis.xyz/purpose: "Provides cost-effective long-term storage for historical circuit data, audit logs, and compliance records"

    storage.veridis.xyz/archive-specification: "Long-term archival storage with compliance retention and cost optimization"
    compliance.veridis.xyz/retention-specification: "7-year retention with audit trail and regulatory compliance"

    # Compliance annotations
    compliance.alpha.kubernetes.io/retention-period: "7y"
    compliance.alpha.kubernetes.io/audit-required: "true"
    compliance.alpha.kubernetes.io/data-classification: "regulated"

    # AWS EBS specific annotations for cost-effective storage
    ebs.csi.aws.com/volumeType: "gp3"
    ebs.csi.aws.com/iops: "3000"
    ebs.csi.aws.com/throughput: "125"
    ebs.csi.aws.com/encrypted: "true"

    # Archive-specific annotations
    archive.veridis.xyz/type: "compliance-archive"
    archive.veridis.xyz/retention: "7y"
    archive.veridis.xyz/compression: "enabled"
    archive.veridis.xyz/deduplication: "enabled"

    # Backup annotations for archive
    backup.veridis.xyz/enabled: "true"
    backup.veridis.xyz/schedule: "0 1 * * 0"  # Weekly backup
    backup.veridis.xyz/retention: "7y"
    backup.veridis.xyz/type: "compliance-backup"

    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/archive-storage"

spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: standard-performance-encrypted
  resources:
    requests:
      storage: 1Ti
  volumeMode: Filesystem

---
# ==============================================================================
# Veridis ZK Circuits PVC - Shared GPU Memory Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-gpu-memory
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-gpu-memory-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: zk-circuits-gpu-memory-storage
    storage.veridis.xyz/category: gpu-optimized-storage
    storage.veridis.xyz/role: gpu-memory-storage
    storage.veridis.xyz/performance-class: gpu-optimized
    storage.veridis.xyz/security-level: standard

    zk.veridis.xyz/storage-type: gpu-memory-extension
    zk.veridis.xyz/performance-tier: gpu-optimized
    zk.veridis.xyz/gpu-acceleration: enabled
    zk.veridis.xyz/memory-extension: enabled

    gpu.veridis.xyz/memory-type: shared-gpu-memory
    gpu.veridis.xyz/optimization: enabled
    gpu.veridis.xyz/acceleration: maximum

    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering

  annotations:
    veridis.xyz/description: "GPU-optimized storage for ZK Circuits shared GPU memory and acceleration buffers"
    veridis.xyz/purpose: "Provides GPU-optimized storage for memory extension, GPU buffers, and acceleration data"

    storage.veridis.xyz/gpu-specification: "GPU-optimized storage with high bandwidth and low latency for GPU acceleration"
    gpu.veridis.xyz/memory-specification: "Shared GPU memory extension with high-speed access and optimization"

    # GPU-specific annotations
    gpu.alpha.kubernetes.io/memory-type: "shared"
    gpu.alpha.kubernetes.io/optimization: "maximum"
    gpu.alpha.kubernetes.io/bandwidth-requirement: "high"

    # AWS EBS specific annotations for GPU optimization
    ebs.csi.aws.com/volumeType: "io2"
    ebs.csi.aws.com/iops: "20000"
    ebs.csi.aws.com/throughput: "2000"
    ebs.csi.aws.com/encrypted: "false"  # For maximum performance

    # GPU memory-specific annotations
    gpu-memory.veridis.xyz/type: "shared-memory-extension"
    gpu-memory.veridis.xyz/size: "50GB"
    gpu-memory.veridis.xyz/bandwidth: "high"
    gpu-memory.veridis.xyz/latency: "low"

    # Backup not required for GPU memory (runtime data)
    backup.veridis.xyz/enabled: "false"
    backup.veridis.xyz/reason: "runtime-gpu-memory"

    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/gpu-memory-storage"

spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: gpu-optimized-storage
  resources:
    requests:
      storage: 50Gi
  volumeMode: Filesystem

---
# ==============================================================================
# Veridis ZK Circuits PVC - Temporary Workspace Storage
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: veridis-zk-circuits-workspace
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: veridis-zk-circuits
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "3.2.1"
    app.kubernetes.io/component: zk-circuits-workspace-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: zk-circuits-workspace-storage
    storage.veridis.xyz/category: temporary-workspace-storage
    storage.veridis.xyz/role: workspace-storage
    storage.veridis.xyz/performance-class: high-performance
    storage.veridis.xyz/security-level: standard

    zk.veridis.xyz/storage-type: temporary-workspace
    zk.veridis.xyz/performance-tier: high
    zk.veridis.xyz/temporary: enabled
    zk.veridis.xyz/cleanup: automated

    workspace.veridis.xyz/type: "circuit-compilation-workspace"
    workspace.veridis.xyz/cleanup: "automated"
    workspace.veridis.xyz/retention: "24h"

    veridis.xyz/environment: production
    veridis.xyz/team: zk-engineering

  annotations:
    veridis.xyz/description: "High-performance workspace storage for ZK Circuits temporary compilation and processing"
    veridis.xyz/purpose: "Provides temporary workspace for circuit compilation, witness generation, and intermediate processing"

    storage.veridis.xyz/workspace-specification: "High-performance temporary workspace with automated cleanup and optimization"
    workspace.veridis.xyz/cleanup-specification: "Automated cleanup with 24-hour retention and intelligent space management"

    # Workspace-specific annotations
    workspace.alpha.kubernetes.io/type: "temporary"
    workspace.alpha.kubernetes.io/cleanup: "automated"
    workspace.alpha.kubernetes.io/retention: "24h"

    # AWS EBS specific annotations for workspace
    ebs.csi.aws.com/volumeType: "gp3"
    ebs.csi.aws.com/iops: "12000"
    ebs.csi.aws.com/throughput: "750"
    ebs.csi.aws.com/encrypted: "false"  # For temporary data

    # Workspace cleanup annotations
    cleanup.veridis.xyz/enabled: "true"
    cleanup.veridis.xyz/schedule: "0 */6 * * *"  # Every 6 hours
    cleanup.veridis.xyz/retention: "24h"
    cleanup.veridis.xyz/policy: "lru"

    # Backup not required for temporary workspace
    backup.veridis.xyz/enabled: "false"
    backup.veridis.xyz/reason: "temporary-workspace-data"

    veridis.xyz/documentation: "https://docs.veridis.xyz/services/zk-circuits/workspace-storage"

spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: high-performance-ssd
  resources:
    requests:
      storage: 150Gi
  volumeMode: Filesystem

# ==============================================================================
# Veridis ZK Circuits PVC Summary and Enterprise Storage Architecture
# ==============================================================================
#
# COMPREHENSIVE VERIDIS ZK CIRCUITS STORAGE STRATEGY:
# ===================================================
#
# VERIDIS ZK CIRCUITS STORAGE ARCHITECTURE OVERVIEW:
# --------------------------------------------------
# 1. Primary Data Storage (veridis-zk-circuits-data):
#    - High-performance 500GB storage with NVMe SSD and intelligent data placement
#    - GP3 EBS volumes with 16,000 IOPS and 1,000 MB/s throughput optimization
#    - AES-256 encryption with AWS KMS integration and comprehensive security
#    - Daily backup schedule with 30-day retention and snapshot capabilities
#    - Circuit files, compiled circuits, and performance optimization data
#
# 2. Cryptographic Keys Storage (veridis-zk-circuits-keys):
#    - Maximum security 100GB storage with encrypted volumes and secure key management
#    - GP3 EBS volumes with 10,000 IOPS optimized for secure key operations
#    - Hardware Security Module integration with Vault key management
#    - Critical backup schedule every 4 hours with 90-day retention
#    - Proving keys, verification keys, and trusted setup parameters
#
# 3. Performance Cache Storage (veridis-zk-circuits-cache):
#    - Ultra-high performance 200GB cache with IO2 volumes and 32,000 IOPS
#    - 4,000 MB/s throughput with microsecond latency for maximum performance
#    - LRU cache policy with 24-hour TTL and intelligent cache management
#    - No backup required (data can be regenerated from primary sources)
#    - Circuit compilation cache, witness generation cache, and proof caching
#
# 4. Archive Storage (veridis-zk-circuits-archive):
#    - Cost-effective 1TB long-term storage with compliance retention (7 years)
#    - GP3 EBS volumes optimized for cost with compression and deduplication
#    - Regulatory compliance with audit trail and data classification
#    - Weekly backup schedule with 7-year retention for compliance requirements
#    - Historical circuit data, audit logs, and compliance records
#
# 5. GPU Memory Extension (veridis-zk-circuits-gpu-memory):
#    - GPU-optimized 50GB storage with IO2 volumes and 20,000 IOPS
#    - High bandwidth (2,000 MB/s) optimized for GPU acceleration workflows
#    - Shared GPU memory extension with low-latency access patterns
#    - No backup required (runtime GPU memory and acceleration buffers)
#    - GPU buffers, shared memory extension, and acceleration data
#
# 6. Temporary Workspace (veridis-zk-circuits-workspace):
#    - High-performance 150GB workspace with automated cleanup and retention
#    - GP3 EBS volumes with 12,000 IOPS optimized for temporary processing
#    - Automated cleanup every 6 hours with 24-hour data retention
#    - No backup required (temporary compilation and processing data)
#    - Circuit compilation workspace, witness generation, and intermediate processing
#
# ENTERPRISE STORAGE FEATURES:
# ============================
# Advanced Storage Tiering:
#   - Multi-tier storage architecture with performance, standard, and archival tiers
#   - Intelligent data placement based on access patterns and performance requirements
#   - Cost optimization with appropriate storage classes for different data types
#   - Performance optimization with NVMe, SSD, and GPU-optimized storage
#   - Automated lifecycle management with data migration and archival policies
#
# Comprehensive Security and Encryption:
#   - AES-256 encryption at rest with AWS KMS integration and key rotation
#   - Hardware Security Module integration for cryptographic key management
#   - Secure key storage with Vault integration and strict access controls
#   - Data classification with confidential, regulated, and standard classifications
#   - Compliance framework integration with SOC 2, GDPR, ISO 27001, and NIST
#
# Intelligent Backup and Recovery:
#   - Multi-tier backup strategy with different schedules and retention periods
#   - Critical data backup every 4 hours with 90-day retention for keys
#   - Daily backup for primary data with 30-day retention and snapshot capabilities
#   - Weekly backup for archive data with 7-year retention for compliance
#   - Point-in-time recovery with snapshot integration and disaster preparedness
#
# Performance Optimization:
#   - High IOPS configuration (up to 32,000 IOPS) for ultra-high performance cache
#   - High throughput optimization (up to 4,000 MB/s) for GPU acceleration workflows
#   - Low-latency storage with microsecond response times for performance-critical operations
#   - Intelligent caching with LRU policies and automated cache management
#   - GPU-optimized storage with high bandwidth and specialized access patterns
#
# OPERATIONAL EXCELLENCE:
# ======================
# Storage Lifecycle Management:
#   - Multi-PVC architecture with specialized storage for different use cases
#   - Intelligent provisioning with dynamic capacity management and auto-expansion
#   - Advanced monitoring with comprehensive storage analytics and performance intelligence
#   - Automated cleanup with intelligent retention policies and space management
#   - Cost optimization with usage analytics and capacity planning
#
# Business Intelligence Integration:
#   - Cost tracking with storage utilization and budget management ($10,000/month target)
#   - Performance analytics with throughput and latency correlation
#   - Capacity planning with predictive analytics and resource forecasting
#   - Business impact analysis with storage performance and service correlation
#   - Strategic planning with storage optimization and cost-benefit analysis
#
# Compliance and Governance:
#   - Multi-framework compliance with SOC 2, GDPR, ISO 27001, and NIST integration
#   - Data retention policies with 7-year compliance retention for regulated data
#   - Audit trail preservation with comprehensive logging and monitoring
#   - Data classification with appropriate security controls and access restrictions
#   - Regulatory reporting with automated compliance validation and documentation
#
# Developer Experience Excellence:
#   - Workspace storage with automated cleanup and developer-friendly interfaces
#   - High-performance cache with intelligent optimization and performance enhancement
#   - Comprehensive documentation with storage guides and optimization procedures
#   - Monitoring integration with storage analytics and performance dashboards
#   - Automation compatibility with CI/CD pipeline integration and deployment safety
#
# ==============================================================================
