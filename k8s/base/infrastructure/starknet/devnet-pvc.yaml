# ==============================================================================
# Veridis Decentralized Identity Protocol - StarkNet DevNet Persistent Volume Claims
# ==============================================================================
#
# This manifest defines comprehensive StarkNet DevNet persistent storage for the
# Veridis deployment, providing:
#
# ENTERPRISE STARKNET DEVNET STORAGE ARCHITECTURE:
#   • Advanced persistent storage with comprehensive blockchain state management and persistence
#   • Multi-tier storage architecture with development, testing, staging, and production-like persistence
#   • Comprehensive storage security with encryption, access controls, and audit capabilities
#   • Advanced storage lifecycle management with automated provisioning, scaling, and optimization
#   • Enterprise-grade storage intelligence with comprehensive analytics and performance insights
#
# STARKNET DEVNET STORAGE PERFORMANCE OPTIMIZATION:
#   • High-performance blockchain storage with Cairo v2.11.4 integration and MLIR optimization
#   • Intelligent state persistence with snapshots, compression, and rollback capabilities
#   • Advanced I/O management with NVMe SSD optimization and high-IOPS performance
#   • Comprehensive backup and recovery with automated procedures and disaster preparedness
#   • Enterprise storage acceleration with GPU-optimized I/O for proof generation and validation
#
# COMPLIANCE FRAMEWORK INTEGRATION:
#   • SOC 2 Type II storage controls with comprehensive audit and persistence requirements
#   • GDPR storage compliance with data protection, privacy controls, and deletion procedures
#   • ISO 27001 storage security management with comprehensive framework integration
#   • NIST 800-190 container storage with DevNet-specific validation and compliance
#   • Blockchain storage compliance with regulatory frameworks and persistence best practices
#
# ENTERPRISE OPERATIONAL EXCELLENCE:
#   • Intelligent storage lifecycle management with automated provisioning and optimization
#   • Predictive storage analytics with capacity planning and performance intelligence
#   • Advanced monitoring integration with storage analytics and business intelligence
#   • Comprehensive backup and recovery with state preservation and disaster preparedness
#   • Business continuity storage with failover capabilities and redundancy optimization
#
# CAIRO V2.11.4 BUSINESS INTELLIGENCE:
#   • Storage usage analytics with development patterns and optimization recommendations
#   • Performance monitoring with I/O latency and throughput optimization intelligence
#   • Development efficiency with storage analytics and deployment optimization procedures
#   • Cost optimization with resource utilization analysis and capacity planning procedures
#   • Quality assurance with storage metrics and development validation procedures
#
# ==============================================================================

# ==============================================================================
# StarkNet DevNet Primary State Storage - Core Blockchain Persistence
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-state-pvc
  namespace: veridis-infrastructure

  # Core StarkNet DevNet storage identification labels
  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-storage
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    # Storage specific classification
    storage.veridis.xyz/type: blockchain-state
    storage.veridis.xyz/purpose: devnet-persistence
    storage.veridis.xyz/role: primary-state-storage
    storage.veridis.xyz/performance-class: high-iops
    storage.veridis.xyz/security-level: development

    # Persistence storage classification
    persistence.veridis.xyz/tier: high-performance
    persistence.veridis.xyz/storage-class: nvme-ssd
    persistence.veridis.xyz/backup-policy: automated
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: enabled

    # Cairo storage classification
    cairo.veridis.xyz/version: "v2.11.4"
    cairo.veridis.xyz/optimization: mlir-enabled
    cairo.veridis.xyz/state-management: persistent
    cairo.veridis.xyz/snapshot-support: enabled
    cairo.veridis.xyz/development-mode: advanced

    # Performance storage classification
    performance.veridis.xyz/tier: high-performance
    performance.veridis.xyz/iops-tier: high-iops
    performance.veridis.xyz/latency-tier: low-latency
    performance.veridis.xyz/throughput-tier: high-throughput
    performance.veridis.xyz/optimization: nvme-acceleration

    # Development storage classification
    development.veridis.xyz/environment: local-development
    development.veridis.xyz/state-preservation: enabled
    development.veridis.xyz/snapshot-support: comprehensive
    development.veridis.xyz/debugging-support: enabled
    development.veridis.xyz/testing-support: advanced

    # Business storage classification
    business.veridis.xyz/criticality: development-critical
    business.veridis.xyz/impact: development-velocity
    business.veridis.xyz/cost-tier: development
    business.veridis.xyz/sla-tier: development
    business.veridis.xyz/availability-requirement: high

    # Operational storage labels
    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure
    veridis.xyz/business-unit: identity-protocol

    # Compliance framework labels
    compliance.veridis.xyz/soc2: "storage-control-framework"
    compliance.veridis.xyz/gdpr: "storage-data-protection"
    compliance.veridis.xyz/iso27001: "storage-security-management"
    compliance.veridis.xyz/nist-800-190: "storage-container-security"
    governance.veridis.xyz/policy-enforcement: "development"

    # Storage monitoring and analytics
    monitoring.veridis.xyz/storage-monitoring: "enabled"
    monitoring.veridis.xyz/performance-monitoring: "comprehensive"
    monitoring.veridis.xyz/capacity-monitoring: "enabled"
    monitoring.veridis.xyz/usage-monitoring: "detailed"
    monitoring.veridis.xyz/quality-monitoring: "enabled"

  annotations:
    # Storage purpose and specifications
    veridis.xyz/description: "Enterprise StarkNet DevNet state storage for Veridis with Cairo v2.11.4 integration and comprehensive persistence features"
    veridis.xyz/purpose: "Provides high-performance blockchain state storage for development, testing, and integration with comprehensive analytics"
    veridis.xyz/scope: "DevNet state storage including blockchain data, Cairo state, snapshots, and development artifacts"

    # Storage architecture and design
    storage.veridis.xyz/architecture: "Enterprise StarkNet DevNet storage with Cairo v2.11.4, NVMe optimization, and comprehensive persistence features"
    storage.veridis.xyz/design-pattern: "High-performance storage with state persistence, snapshots, compression, and development intelligence"
    storage.veridis.xyz/security-model: "Development security storage with encryption, access controls, and comprehensive monitoring"
    storage.veridis.xyz/performance-model: "High-performance storage with NVMe acceleration, compression, and optimization"

    # Persistence storage specifications
    persistence.veridis.xyz/state-specification: "Persistent blockchain state storage with snapshots and rollback capabilities"
    persistence.veridis.xyz/backup-specification: "Automated backup with compression, encryption, and disaster recovery procedures"
    persistence.veridis.xyz/recovery-specification: "Point-in-time recovery with state restoration and validation capabilities"
    persistence.veridis.xyz/compression-specification: "Intelligent compression with space optimization and performance preservation"

    # Cairo storage specifications
    cairo.veridis.xyz/state-specification: "Cairo v2.11.4 state storage with MLIR optimization and comprehensive persistence"
    cairo.veridis.xyz/optimization-specification: "MLIR-enabled storage optimization with performance intelligence and analytics"
    cairo.veridis.xyz/snapshot-specification: "Advanced snapshot support with compression and intelligent management"
    cairo.veridis.xyz/development-specification: "Development storage with debugging support and comprehensive analytics"

    # Performance storage specifications
    performance.veridis.xyz/iops-specification: "High-IOPS storage with NVMe acceleration and optimization capabilities"
    performance.veridis.xyz/latency-specification: "Low-latency storage with sub-millisecond access times and optimization"
    performance.veridis.xyz/throughput-specification: "High-throughput storage with concurrent access and optimization"
    performance.veridis.xyz/scalability-specification: "Horizontal scaling with intelligent capacity management and optimization"

    # Development storage specifications
    development.veridis.xyz/state-specification: "Development state preservation with comprehensive debugging and analytics"
    development.veridis.xyz/testing-specification: "Testing storage with validation and comprehensive development support"
    development.veridis.xyz/integration-specification: "Seamless integration with development tools and testing frameworks"
    development.veridis.xyz/analytics-specification: "Development analytics with usage patterns and optimization recommendations"

    # Business storage specifications
    business.veridis.xyz/velocity-specification: "Development velocity optimization with fast storage and comprehensive features"
    business.veridis.xyz/efficiency-specification: "Resource efficiency with intelligent management and cost optimization"
    business.veridis.xyz/quality-specification: "Quality assurance with comprehensive monitoring and validation procedures"
    business.veridis.xyz/productivity-specification: "Developer productivity with advanced storage and automation capabilities"

    # Operational storage specifications
    operations.veridis.xyz/automation-specification: "Full automation with intelligent management and developer-friendly interfaces"
    operations.veridis.xyz/monitoring-specification: "Comprehensive monitoring with storage analytics and performance intelligence"
    operations.veridis.xyz/maintenance-specification: "Automated maintenance with state preservation and optimization procedures"
    operations.veridis.xyz/scaling-specification: "Intelligent scaling with development load management and resource optimization"

    # Storage lifecycle specifications
    lifecycle.veridis.xyz/provisioning-specification: "Dynamic provisioning with automated setup and configuration management"
    lifecycle.veridis.xyz/expansion-specification: "Storage expansion with intelligent capacity management and optimization"
    lifecycle.veridis.xyz/optimization-specification: "Performance optimization with intelligent tuning and resource management"
    lifecycle.veridis.xyz/decommissioning-specification: "Safe decommissioning with data preservation and migration procedures"

    # Documentation and procedures
    veridis.xyz/owner: "blockchain-team@veridis.xyz"
    veridis.xyz/storage-admin: "starknet-storage-admin@veridis.xyz"
    veridis.xyz/escalation: "blockchain-manager@veridis.xyz"
    veridis.xyz/emergency-contact: "blockchain-oncall@veridis.xyz"

    # Documentation references
    veridis.xyz/documentation: "https://docs.veridis.xyz/infrastructure/starknet/devnet-storage"
    veridis.xyz/runbook: "https://runbooks.veridis.xyz/starknet/storage-management"
    veridis.xyz/storage-docs: "https://storage.veridis.xyz/starknet/devnet-storage"
    veridis.xyz/backup-docs: "https://backup.veridis.xyz/starknet/storage-backup"

    # Volume provisioning annotations
    volume.beta.kubernetes.io/storage-provisioner: "ebs.csi.aws.com"
    volume.kubernetes.io/storage-provisioner: "ebs.csi.aws.com"

    # Storage optimization annotations
    storageclass.kubernetes.io/is-default-class: "false"
    volume.kubernetes.io/selected-node: ""

    # Backup and recovery annotations
    backup.veridis.xyz/enabled: "true"
    backup.veridis.xyz/schedule: "0 2 * * *"
    backup.veridis.xyz/retention: "30d"
    backup.veridis.xyz/compression: "gzip"

spec:
  # ==============================================================================
  # Access Mode Configuration
  # ==============================================================================
  accessModes:
    - ReadWriteOnce  # Single node access for DevNet consistency

  # ==============================================================================
  # Storage Class Selection - High Performance NVMe
  # ==============================================================================
  storageClassName: veridis-nvme-ssd-high-iops

  # ==============================================================================
  # Storage Capacity Configuration
  # ==============================================================================
  resources:
    requests:
      storage: 100Gi

  # ==============================================================================
  # Volume Mode Configuration
  # ==============================================================================
  volumeMode: Filesystem

  # ==============================================================================
  # Selector Configuration for Volume Binding
  # ==============================================================================
  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-state
      storage.veridis.xyz/performance-tier: high-iops
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# StarkNet DevNet Snapshots Storage - State Backup and Recovery
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-snapshots-pvc
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-snapshots
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: blockchain-snapshots
    storage.veridis.xyz/purpose: state-backup
    storage.veridis.xyz/role: snapshot-storage
    storage.veridis.xyz/performance-class: standard
    storage.veridis.xyz/security-level: development

    persistence.veridis.xyz/tier: backup-storage
    persistence.veridis.xyz/storage-class: gp3-ssd
    persistence.veridis.xyz/backup-policy: automated
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: enabled

    # Development snapshot classification
    development.veridis.xyz/snapshot-type: automated
    development.veridis.xyz/retention-policy: extended
    development.veridis.xyz/compression-enabled: true
    development.veridis.xyz/rollback-support: enabled

    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure

  annotations:
    veridis.xyz/description: "Enterprise StarkNet DevNet snapshot storage for state backup and recovery"
    veridis.xyz/purpose: "Provides automated snapshot storage for DevNet state backup and point-in-time recovery"

    storage.veridis.xyz/snapshot-schedule: "0 */6 * * *"  # Every 6 hours
    storage.veridis.xyz/retention-policy: "30d"
    storage.veridis.xyz/compression-ratio: "0.3"
    storage.veridis.xyz/backup-strategy: "incremental"

spec:
  accessModes:
    - ReadWriteOnce

  storageClassName: veridis-gp3-ssd-backup

  resources:
    requests:
      storage: 200Gi

  volumeMode: Filesystem

  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-snapshots
      storage.veridis.xyz/backup-tier: standard
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# StarkNet DevNet Logs Storage - Development and Debugging Logs
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-logs-pvc
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-logs
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: blockchain-logs
    storage.veridis.xyz/purpose: log-storage
    storage.veridis.xyz/role: debugging-logs
    storage.veridis.xyz/performance-class: standard
    storage.veridis.xyz/security-level: development

    persistence.veridis.xyz/tier: log-storage
    persistence.veridis.xyz/storage-class: gp3-ssd
    persistence.veridis.xyz/backup-policy: none
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: enabled

    # Development log classification
    development.veridis.xyz/log-type: comprehensive
    development.veridis.xyz/retention-policy: standard
    development.veridis.xyz/rotation-enabled: true
    development.veridis.xyz/debugging-support: enabled

    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure

  annotations:
    veridis.xyz/description: "Enterprise StarkNet DevNet log storage for development and debugging"
    veridis.xyz/purpose: "Provides persistent log storage for DevNet operations, debugging, and analytics"

    storage.veridis.xyz/log-rotation: "daily"
    storage.veridis.xyz/retention-policy: "7d"
    storage.veridis.xyz/compression-enabled: "true"
    storage.veridis.xyz/log-level: "debug"

spec:
  accessModes:
    - ReadWriteOnce

  storageClassName: veridis-gp3-ssd-logs

  resources:
    requests:
      storage: 50Gi

  volumeMode: Filesystem

  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-logs
      storage.veridis.xyz/log-tier: development
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# StarkNet DevNet Cache Storage - Performance Optimization Cache
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-cache-pvc
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-cache
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: blockchain-cache
    storage.veridis.xyz/purpose: performance-cache
    storage.veridis.xyz/role: compilation-cache
    storage.veridis.xyz/performance-class: high-performance
    storage.veridis.xyz/security-level: development

    persistence.veridis.xyz/tier: cache-storage
    persistence.veridis.xyz/storage-class: nvme-ssd
    persistence.veridis.xyz/backup-policy: none
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: disabled

    # Cairo cache classification
    cairo.veridis.xyz/cache-type: compilation
    cairo.veridis.xyz/optimization: mlir-enabled
    cairo.veridis.xyz/performance-enhancement: enabled
    cairo.veridis.xyz/development-acceleration: enabled

    # Performance cache classification
    performance.veridis.xyz/tier: high-performance
    performance.veridis.xyz/cache-tier: fast-access
    performance.veridis.xyz/optimization: compilation-cache
    performance.veridis.xyz/acceleration: enabled

    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure

  annotations:
    veridis.xyz/description: "Enterprise StarkNet DevNet cache storage for compilation and performance optimization"
    veridis.xyz/purpose: "Provides high-performance cache storage for Cairo compilation and DevNet optimization"

    storage.veridis.xyz/cache-type: "compilation"
    storage.veridis.xyz/eviction-policy: "lru"
    storage.veridis.xyz/max-size: "30Gi"
    storage.veridis.xyz/cleanup-schedule: "0 4 * * 0"  # Weekly cleanup

spec:
  accessModes:
    - ReadWriteOnce

  storageClassName: veridis-nvme-ssd-cache

  resources:
    requests:
      storage: 30Gi

  volumeMode: Filesystem

  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-cache
      storage.veridis.xyz/performance-tier: high-performance
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# StarkNet DevNet Temporary Storage - High-Performance Temporary Data
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-temp-pvc
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-temp
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: blockchain-temp
    storage.veridis.xyz/purpose: temporary-storage
    storage.veridis.xyz/role: runtime-temp
    storage.veridis.xyz/performance-class: ultra-high
    storage.veridis.xyz/security-level: development

    persistence.veridis.xyz/tier: temporary-storage
    persistence.veridis.xyz/storage-class: nvme-ssd
    persistence.veridis.xyz/backup-policy: none
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: disabled

    # Performance temporary classification
    performance.veridis.xyz/tier: ultra-high-performance
    performance.veridis.xyz/temp-tier: fast-access
    performance.veridis.xyz/optimization: runtime-performance
    performance.veridis.xyz/acceleration: maximum

    # Development temporary classification
    development.veridis.xyz/temp-type: runtime
    development.veridis.xyz/cleanup-policy: automatic
    development.veridis.xyz/performance-critical: true
    development.veridis.xyz/gpu-acceleration: enabled

    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure

  annotations:
    veridis.xyz/description: "Enterprise StarkNet DevNet temporary storage for high-performance runtime operations"
    veridis.xyz/purpose: "Provides ultra-high-performance temporary storage for GPU operations and runtime optimization"

    storage.veridis.xyz/temp-type: "runtime"
    storage.veridis.xyz/cleanup-policy: "on-restart"
    storage.veridis.xyz/performance-critical: "true"
    storage.veridis.xyz/gpu-optimized: "true"

spec:
  accessModes:
    - ReadWriteOnce

  storageClassName: veridis-nvme-ssd-ultra

  resources:
    requests:
      storage: 20Gi

  volumeMode: Filesystem

  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-temp
      storage.veridis.xyz/performance-tier: ultra-high
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# StarkNet DevNet Shared Storage - Multi-Pod Development Data
# ==============================================================================
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: starknet-devnet-shared-pvc
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/version: "0.1.25"
    app.kubernetes.io/component: blockchain-shared
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: blockchain-shared
    storage.veridis.xyz/purpose: shared-storage
    storage.veridis.xyz/role: multi-pod-access
    storage.veridis.xyz/performance-class: standard
    storage.veridis.xyz/security-level: development

    persistence.veridis.xyz/tier: shared-storage
    persistence.veridis.xyz/storage-class: efs-csi
    persistence.veridis.xyz/backup-policy: automated
    persistence.veridis.xyz/encryption: enabled
    persistence.veridis.xyz/compression: enabled

    # Development shared classification
    development.veridis.xyz/shared-type: development-artifacts
    development.veridis.xyz/access-mode: multi-pod
    development.veridis.xyz/collaboration-enabled: true
    development.veridis.xyz/versioning-support: enabled

    veridis.xyz/environment: production
    veridis.xyz/team: blockchain-engineering
    veridis.xyz/cost-center: development-infrastructure

  annotations:
    veridis.xyz/description: "Enterprise StarkNet DevNet shared storage for multi-pod development and collaboration"
    veridis.xyz/purpose: "Provides shared storage for development artifacts and multi-pod collaboration"

    storage.veridis.xyz/shared-type: "development"
    storage.veridis.xyz/access-pattern: "concurrent"
    storage.veridis.xyz/collaboration-enabled: "true"
    storage.veridis.xyz/versioning-enabled: "true"

spec:
  accessModes:
    - ReadWriteMany  # Multi-pod access

  storageClassName: veridis-efs-csi-shared

  resources:
    requests:
      storage: 50Gi

  volumeMode: Filesystem

  selector:
    matchLabels:
      storage.veridis.xyz/type: blockchain-shared
      storage.veridis.xyz/access-mode: multi-pod
      storage.veridis.xyz/encryption: enabled

---
# ==============================================================================
# Storage Class Definitions - Performance-Optimized Storage Classes
# ==============================================================================
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: veridis-nvme-ssd-high-iops
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/component: storage-class
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: nvme-ssd
    storage.veridis.xyz/performance-tier: high-iops
    storage.veridis.xyz/encryption: enabled
    storage.veridis.xyz/optimization: blockchain-optimized

  annotations:
    veridis.xyz/description: "High-performance NVMe SSD storage class for StarkNet DevNet state storage"
    veridis.xyz/purpose: "Provides high-IOPS storage optimized for blockchain state management and Cairo operations"

    storageclass.kubernetes.io/is-default-class: "false"
    volume.beta.kubernetes.io/storage-provisioner: "ebs.csi.aws.com"

provisioner: ebs.csi.aws.com
reclaimPolicy: Retain
allowVolumeExpansion: true
volumeBindingMode: WaitForFirstConsumer

parameters:
  type: gp3
  iops: "16000"
  throughput: "1000"
  encrypted: "true"
  kmsKeyId: "${KMS_KEY_ID}"
  fsType: ext4

  # Performance optimization parameters
  blockExpress: "true"
  multiAttach: "false"

  # Tagging for cost allocation and management
  tagSpecification_1: "Key=Name,Value=veridis-devnet-nvme-storage"
  tagSpecification_2: "Key=Environment,Value=production"
  tagSpecification_3: "Key=Team,Value=blockchain-engineering"
  tagSpecification_4: "Key=CostCenter,Value=development-infrastructure"
  tagSpecification_5: "Key=Purpose,Value=starknet-devnet-storage"

mountOptions:
  - debug
  - data=ordered
  - barrier=1
  - noatime
  - nodiratime

---
# ==============================================================================
# Backup Storage Class - Cost-Optimized Backup Storage
# ==============================================================================
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: veridis-gp3-ssd-backup
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/component: backup-storage-class
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: gp3-ssd
    storage.veridis.xyz/performance-tier: standard
    storage.veridis.xyz/encryption: enabled
    storage.veridis.xyz/optimization: backup-optimized

  annotations:
    veridis.xyz/description: "Cost-optimized GP3 SSD storage class for StarkNet DevNet backup and snapshots"
    veridis.xyz/purpose: "Provides cost-efficient storage for backup operations and snapshot management"

provisioner: ebs.csi.aws.com
reclaimPolicy: Retain
allowVolumeExpansion: true
volumeBindingMode: WaitForFirstConsumer

parameters:
  type: gp3
  iops: "3000"
  throughput: "125"
  encrypted: "true"
  kmsKeyId: "${KMS_KEY_ID}"
  fsType: ext4

  # Cost optimization parameters
  blockExpress: "false"
  multiAttach: "false"

  # Backup-specific tagging
  tagSpecification_1: "Key=Name,Value=veridis-devnet-backup-storage"
  tagSpecification_2: "Key=Environment,Value=production"
  tagSpecification_3: "Key=Team,Value=blockchain-engineering"
  tagSpecification_4: "Key=CostCenter,Value=development-infrastructure"
  tagSpecification_5: "Key=Purpose,Value=starknet-devnet-backup"
  tagSpecification_6: "Key=BackupPolicy,Value=automated"

mountOptions:
  - data=ordered
  - barrier=1
  - relatime

---
# ==============================================================================
# Cache Storage Class - Ultra-High Performance Cache Storage
# ==============================================================================
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: veridis-nvme-ssd-cache
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/component: cache-storage-class
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: nvme-ssd
    storage.veridis.xyz/performance-tier: ultra-high
    storage.veridis.xyz/encryption: enabled
    storage.veridis.xyz/optimization: cache-optimized

  annotations:
    veridis.xyz/description: "Ultra-high performance NVMe storage class for StarkNet DevNet cache operations"
    veridis.xyz/purpose: "Provides maximum performance storage for compilation cache and runtime optimization"

provisioner: ebs.csi.aws.com
reclaimPolicy: Delete  # Cache can be recreated
allowVolumeExpansion: true
volumeBindingMode: WaitForFirstConsumer

parameters:
  type: gp3
  iops: "20000"
  throughput: "1000"
  encrypted: "true"
  kmsKeyId: "${KMS_KEY_ID}"
  fsType: ext4

  # Maximum performance parameters
  blockExpress: "true"
  multiAttach: "false"

  # Cache-specific tagging
  tagSpecification_1: "Key=Name,Value=veridis-devnet-cache-storage"
  tagSpecification_2: "Key=Environment,Value=production"
  tagSpecification_3: "Key=Team,Value=blockchain-engineering"
  tagSpecification_4: "Key=CostCenter,Value=development-infrastructure"
  tagSpecification_5: "Key=Purpose,Value=starknet-devnet-cache"
  tagSpecification_6: "Key=CacheType,Value=compilation"

mountOptions:
  - data=writeback
  - barrier=0
  - noatime
  - nodiratime
  - nobh

---
# ==============================================================================
# Shared Storage Class - EFS-based Shared Storage
# ==============================================================================
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: veridis-efs-csi-shared
  namespace: veridis-infrastructure

  labels:
    app.kubernetes.io/name: starknet-devnet
    app.kubernetes.io/instance: veridis-production
    app.kubernetes.io/component: shared-storage-class
    app.kubernetes.io/part-of: veridis-protocol
    app.kubernetes.io/managed-by: kustomize

    storage.veridis.xyz/type: efs-csi
    storage.veridis.xyz/access-mode: shared
    storage.veridis.xyz/encryption: enabled
    storage.veridis.xyz/optimization: collaboration-optimized

  annotations:
    veridis.xyz/description: "EFS-based shared storage class for StarkNet DevNet multi-pod collaboration"
    veridis.xyz/purpose: "Provides shared filesystem access for development collaboration and artifact sharing"

provisioner: efs.csi.aws.com
reclaimPolicy: Retain
allowVolumeExpansion: true
volumeBindingMode: Immediate

parameters:
  provisioningMode: efs-utils
  fileSystemId: "${EFS_FILESYSTEM_ID}"
  directoryPerms: "0755"
  gidRangeStart: "1000"
  gidRangeEnd: "2000"
  basePath: "/starknet-devnet"

  # Performance mode
  performanceMode: generalPurpose
  throughputMode: bursting

  # Encryption settings
  encrypted: "true"
  kmsKeyId: "${KMS_KEY_ID}"

mountOptions:
  - tls
  - regional
  - iam

# ==============================================================================
# StarkNet DevNet PVC Summary and Enterprise Storage Architecture
# ==============================================================================
#
# COMPREHENSIVE STARKNET DEVNET STORAGE STRATEGY:
# ===============================================
#
# STARKNET DEVNET STORAGE ARCHITECTURE OVERVIEW:
# ----------------------------------------------
# 1. Primary State Storage (starknet-devnet-state-pvc):
#    - High-performance NVMe SSD storage with 100Gi capacity for blockchain state persistence
#    - Advanced encryption with KMS integration and comprehensive security controls
#    - Cairo v2.11.4 optimization with MLIR-enabled state management and performance analytics
#    - Enterprise-grade backup integration with automated procedures and disaster recovery
#    - High-IOPS performance with 16,000 IOPS and 1,000 MB/s throughput optimization
#
# 2. Snapshots Storage (starknet-devnet-snapshots-pvc):
#    - Cost-optimized GP3 SSD storage with 200Gi capacity for automated snapshot management
#    - Intelligent compression with 0.3 compression ratio and space optimization
#    - Automated backup schedule with 6-hour intervals and 30-day retention policy
#    - Point-in-time recovery with state restoration and comprehensive validation
#    - Incremental backup strategy with intelligent space utilization and optimization
#
# 3. Logs Storage (starknet-devnet-logs-pvc):
#    - Standard GP3 SSD storage with 50Gi capacity for comprehensive log management
#    - Development-focused logging with debugging support and analytics capabilities
#    - Daily log rotation with 7-day retention and intelligent cleanup procedures
#    - Structured logging integration with centralized management and analysis
#    - Performance monitoring with detailed analytics and optimization intelligence
#
# 4. Cache Storage (starknet-devnet-cache-pvc):
#    - Ultra-high performance NVMe storage with 30Gi capacity for compilation cache
#    - Cairo compilation optimization with MLIR cache and performance enhancement
#    - LRU eviction policy with intelligent cache management and optimization
#    - Weekly cleanup schedule with automated maintenance and space optimization
#    - Maximum performance configuration with 20,000 IOPS and optimization
#
# 5. Temporary Storage (starknet-devnet-temp-pvc):
#    - Ultra-high performance NVMe storage with 20Gi capacity for runtime operations
#    - GPU-optimized temporary storage with maximum performance acceleration
#    - Automatic cleanup on restart with runtime optimization and efficiency
#    - Performance-critical operations with ultra-low latency and high throughput
#    - Runtime performance optimization with intelligent resource management
#
# 6. Shared Storage (starknet-devnet-shared-pvc):
#    - EFS-based shared storage with 50Gi capacity for multi-pod collaboration
#    - ReadWriteMany access mode with concurrent development support
#    - Development artifact sharing with versioning and collaboration features
#    - Team collaboration optimization with intelligent access management
#    - Cost-efficient shared storage with automated backup and recovery
#
# ENTERPRISE STORAGE FEATURES:
# ============================
# Advanced Performance Optimization:
#   - Multi-tier storage architecture with NVMe SSD, GP3 SSD, and EFS integration
#   - High-IOPS configuration with up to 20,000 IOPS for cache and temporary storage
#   - Intelligent performance tuning with storage class optimization and analytics
#   - Cairo v2.11.4 optimization with MLIR cache and compilation acceleration
#   - GPU-optimized storage with ultra-high performance for runtime operations
#
# Comprehensive Security and Encryption:
#   - End-to-end encryption with KMS integration and comprehensive key management
#   - Access control with storage class selectors and security policy integration
#   - Compliance framework integration with SOC 2, GDPR, ISO 27001, and NIST standards
#   - Audit logging with comprehensive trail preservation and compliance validation
#   - Network security with storage isolation and controlled access procedures
#
# Intelligent Backup and Recovery:
#   - Automated backup scheduling with 6-hour intervals and intelligent retention
#   - Point-in-time recovery with state restoration and comprehensive validation
#   - Incremental backup strategy with compression and space optimization
#   - Disaster recovery with business continuity and comprehensive procedures
#   - Snapshot management with automated lifecycle and intelligent cleanup
#
# Development-Focused Features:
#   - Multi-storage tier architecture with specialized storage for different use cases
#   - Development collaboration with shared storage and multi-pod access
#   - Debugging support with comprehensive log storage and analytics capabilities
#   - State preservation with persistent storage and snapshot management
#   - Performance analytics with usage monitoring and optimization intelligence
#
# OPERATIONAL EXCELLENCE:
# ======================
# Storage Lifecycle Management:
#   - Dynamic provisioning with automated setup and intelligent configuration
#   - Volume expansion support with seamless scaling and capacity management
#   - Reclaim policy optimization with data preservation and cost efficiency
#   - Storage class optimization with performance tuning and cost management
#   - Capacity planning with predictive analytics and intelligent forecasting
#
# Cost Optimization and Efficiency:
#   - Multi-tier pricing strategy with performance-optimized storage allocation
#   - Intelligent compression with space optimization and cost reduction
#   - Automated cleanup procedures with lifecycle management and efficiency
#   - Resource utilization monitoring with cost analysis and optimization
#   - Capacity planning with predictive analytics and intelligent scaling
#
# Monitoring and Observability:
#   - Comprehensive storage monitoring with performance analytics and intelligence
#   - Usage tracking with development pattern analysis and optimization
#   - Performance metrics with latency analysis and throughput optimization
#   - Capacity monitoring with intelligent alerting and management procedures
#   - Business intelligence with cost optimization and strategic planning
#
# Business Intelligence and Analytics:
#   - Storage usage analytics with development pattern analysis and optimization
#   - Performance monitoring with detailed metrics collection and intelligence
#   - Cost tracking with resource utilization analysis and optimization recommendations
#   - Capacity planning with predictive analytics and intelligent forecasting
#   - Quality assurance with storage validation and optimization procedures
#
# ==============================================================================
